import{w as N,aI as z,aJ as B,o as Y,x as R,aK as A,aL as j,ar as _,c as H,aM as E,m as $,aB as M,az as D}from"./index-WE5xPX2m.js";function G(e){return z()?(B(e),!0):!1}const P=new WeakMap,Q=(...e)=>{var t;const u=e[0],r=(t=A())==null?void 0:t.proxy;if(r==null&&!j())throw new Error("injectLocal must be called in setup");return r&&P.has(r)&&u in P.get(r)?P.get(r)[u]:_(...e)},C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=Object.prototype.toString,K=e=>J.call(e)==="[object Object]",S=()=>{},U=Z();function Z(){var e,t;return C&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function V(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function k(e){return Array.isArray(e)?e:[e]}function q(e){return A()}function ee(e,t=!0,u){q()?Y(e,u):t?e():R(e)}function te(e,t,u){return N(e,t,{...u,immediate:!0})}const T=C?window:void 0;function O(e){var t;const u=E(e);return(t=u?.$el)!=null?t:u}function y(...e){const t=[],u=()=>{t.forEach(s=>s()),t.length=0},r=(s,n,i,c)=>(s.addEventListener(n,i,c),()=>s.removeEventListener(n,i,c)),p=H(()=>{const s=k(E(e[0])).filter(n=>n!=null);return s.every(n=>typeof n!="string")?s:void 0}),f=te(()=>{var s,n;return[(n=(s=p.value)==null?void 0:s.map(i=>O(i)))!=null?n:[T].filter(i=>i!=null),k(E(p.value?e[1]:e[0])),k($(p.value?e[2]:e[1])),E(p.value?e[3]:e[2])]},([s,n,i,c])=>{if(u(),!s?.length||!n?.length||!i?.length)return;const g=K(c)?{...c}:c;t.push(...s.flatMap(h=>n.flatMap(d=>i.map(w=>r(h,d,w,g)))))},{flush:"post"}),m=()=>{f(),u()};return G(u),m}let L=!1;function ae(e,t,u={}){const{window:r=T,ignore:p=[],capture:f=!0,detectIframe:m=!1,controls:s=!1}=u;if(!r)return s?{stop:S,cancel:S,trigger:S}:S;if(U&&!L){L=!0;const o={passive:!0};Array.from(r.document.body.children).forEach(l=>l.addEventListener("click",S,o)),r.document.documentElement.addEventListener("click",S,o)}let n=!0;const i=o=>E(p).some(l=>{if(typeof l=="string")return Array.from(r.document.querySelectorAll(l)).some(v=>v===o.target||o.composedPath().includes(v));{const v=O(l);return v&&(o.target===v||o.composedPath().includes(v))}});function c(o){const l=E(o);return l&&l.$.subTree.shapeFlag===16}function g(o,l){const v=E(o),W=v.$.subTree&&v.$.subTree.children;return W==null||!Array.isArray(W)?!1:W.some(x=>x.el===l.target||l.composedPath().includes(x.el))}const h=o=>{const l=O(e);if(o.target!=null&&!(!(l instanceof Element)&&c(e)&&g(e,o))&&!(!l||l===o.target||o.composedPath().includes(l))){if("detail"in o&&o.detail===0&&(n=!i(o)),!n){n=!0;return}t(o)}};let d=!1;const w=[y(r,"click",o=>{d||(d=!0,setTimeout(()=>{d=!1},0),h(o))},{passive:!0,capture:f}),y(r,"pointerdown",o=>{const l=O(e);n=!i(o)&&!!(l&&!o.composedPath().includes(l))},{passive:!0}),m&&y(r,"blur",o=>{setTimeout(()=>{var l;const v=O(e);((l=r.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!v?.contains(r.document.activeElement)&&t(o)},0)},{passive:!0})].filter(Boolean),b=()=>w.forEach(o=>o());return s?{stop:b,cancel:()=>{n=!1},trigger:o=>{n=!0,h(o),n=!1}}:b}function ne(){const e=M(!1),t=A();return t&&Y(()=>{e.value=!0},t),e}function oe(e){const t=ne();return H(()=>(t.value,!!e()))}const se=Symbol("vueuse-ssr-width");function ie(){const e=j()?Q(se,null):null;return typeof e=="number"?e:void 0}function re(e,t={}){const{window:u=T,ssrWidth:r=ie()}=t,p=oe(()=>u&&"matchMedia"in u&&typeof u.matchMedia=="function"),f=M(typeof r=="number"),m=M(),s=M(!1),n=i=>{s.value=i.matches};return D(()=>{if(f.value){f.value=!p.value;const i=E(e).split(",");s.value=i.some(c=>{const g=c.includes("not all"),h=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),d=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let w=!!(h||d);return h&&w&&(w=r>=V(h[1])),d&&w&&(w=r<=V(d[1])),g?!w:w});return}p.value&&(m.value=u.matchMedia(E(e)),s.value=m.value.matches)}),y(m,"change",n,{passive:!0}),H(()=>s.value)}const ue={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ce(e={}){const{type:t="page",touch:u=!0,resetOnTouchEnds:r=!1,initialValue:p={x:0,y:0},window:f=T,target:m=f,scroll:s=!0,eventFilter:n}=e;let i=null,c=0,g=0;const h=M(p.x),d=M(p.y),w=M(null),b=typeof t=="function"?t:ue[t],o=a=>{const I=b(a);i=a,I&&([h.value,d.value]=I,w.value="mouse"),f&&(c=f.scrollX,g=f.scrollY)},l=a=>{if(a.touches.length>0){const I=b(a.touches[0]);I&&([h.value,d.value]=I,w.value="touch")}},v=()=>{if(!i||!f)return;const a=b(i);i instanceof MouseEvent&&a&&(h.value=a[0]+f.scrollX-c,d.value=a[1]+f.scrollY-g)},W=()=>{h.value=p.x,d.value=p.y},x=n?a=>n(()=>o(a),{}):a=>o(a),F=n?a=>n(()=>l(a),{}):a=>l(a),X=n?()=>n(()=>v(),{}):()=>v();if(m){const a={passive:!0};y(m,["mousemove","dragover"],x,a),u&&t!=="movement"&&(y(m,["touchstart","touchmove"],F,a),r&&y(m,"touchend",W,a)),s&&t==="page"&&y(f,"scroll",X,a)}return{x:h,y:d,sourceType:w}}function de(e={}){const{window:t=T,initialWidth:u=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:p=!0,includeScrollbar:f=!0,type:m="inner"}=e,s=M(u),n=M(r),i=()=>{if(t)if(m==="outer")s.value=t.outerWidth,n.value=t.outerHeight;else if(m==="visual"&&t.visualViewport){const{width:g,height:h,scale:d}=t.visualViewport;s.value=Math.round(g*d),n.value=Math.round(h*d)}else f?(s.value=t.innerWidth,n.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,n.value=t.document.documentElement.clientHeight)};i(),ee(i);const c={passive:!0};if(y("resize",i,c),t&&m==="visual"&&t.visualViewport&&y(t.visualViewport,"resize",i,c),p){const g=re("(orientation: portrait)");N(g,()=>i())}return{width:s,height:n}}export{de as a,ae as o,ce as u};
